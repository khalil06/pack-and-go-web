{% extends 'base.html.twig' %}

{% block title %}Hello DashboardController!{% endblock %}
{% set menu_selected = 'reservationA' %}
{% block body %}




<main class="app-content">
  <div class="app-title">
    <div>
      <h1><i class="fa fa-th-list"></i> Activité Dashboard</h1>
    </div>

  </div>
  <div class="form-group">
    {# this form theme will be applied only to the form of this template #}
    {% form_theme formActivite 'bootstrap_4_layout.html.twig' %}
    {# {{ form(formUserPersonality) }} #}
    {{form_start(formActivite)}}

    {{form_end(formActivite)}}

  </div>

  <div class="row">
    <div class="col-md-20 ">
      <div class="tile">
        <table class="table">
          <thead>
            <tr>
              <th>id activité</th>
              <th>nom activité</th>
              <th>type activité</th>
              <th>prix</th>
              <th>adresse</th>
              <th>pays</th>
              <th>image</th>
              <th>modification</th>
              <th>suppression</th>
            </tr>
          </thead>
          <tbody>
            {% for activite in activites %}
            <tr>
              <td>{{  activite.idActivite}}</td>
              <td>{{  activite.nomActivite}}</td>
              <td>{{  activite.typeActivite}}</td>
              <td>{{  activite.prix}}</td>
              <td>{{  activite.adresse}}</td>
              <td>{{  activite.pays}}</td>
              <td><img src="{{ asset('uploads/' ~ activite.ImagePath ) }}" style="width: 220px; height: 200px; background-size: cover;" /></td>
              <td><a href="{{ path('updateActivite', {'id': activite.idActivite}) }}" class="btn btn-success">Modifier</a></td>
              <td><a href="{{ path('deleteActivite', {'id': activite.idActivite}) }}" class="btn btn-danger">Supprimer</a></td>



            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>


    </div>

  </div>
  <script src="{{asset('libback/chart-master/Chart.js')}}"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w==" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous"></script>
  <div>
    <canvas id="myChart"></canvas>
  </div>
  <script>
    const labels = [
      'Cinéma',
      'Musée',
      'Plage',
      'Espace vert'

    ];

    const data = {
      labels: labels,
      datasets: [{
        label:   '',
        backgroundColor: 'rgb(255, 99, 132)',
        borderColor: 'rgb(255, 99, 132)',
        data: {{ table|raw }},
      }]
    };

    const config = {
      type: 'bar',
      data: data,
      options: {}
    };
  </script>
  <script>
    const myChart = new Chart(
            document.getElementById('myChart'),
            config
    );
  </script>
</main>
{% endblock %}